# Настройка Vercel KV для хранения метаданных

## Что это?

Vercel KV - это база данных Redis от Vercel, которая будет хранить метаданные токенов Jetton 2.0.

## Зачем это нужно?

Сейчас метаданные хранятся в памяти сервера, что означает:
- ❌ Данные теряются при перезапуске сервера
- ❌ Не работает при нескольких серверах (scaling)
- ❌ Не подходит для продакшена

Vercel KV решает все эти проблемы:
- ✅ Данные сохраняются постоянно
- ✅ Работает при любом количестве серверов
- ✅ Быстро и надежно

## Как настроить:

### 1. Создайте KV базу данных в Vercel:

1. Откройте [Vercel Dashboard](https://vercel.com/dashboard)
2. Выберите ваш проект `cook`
3. Перейдите в раздел **Storage**
4. Нажмите **Create Database**
5. Выберите **KV** (Redis)
6. Назовите базу (например, `cook-metadata`)
7. Выберите регион (ближайший к вам)
8. Нажмите **Create**

### 2. Переменные окружения настроятся автоматически

Vercel автоматически добавит переменные окружения:
- `KV_REST_API_URL`
- `KV_REST_API_TOKEN`
- `KV_REST_API_READ_ONLY_TOKEN`

### 3. Перезапустите проект

После создания KV базы, Vercel автоматически перезапустит проект с новыми переменными окружения.

## Проверка работы:

После настройки, при деплое нового токена:
1. Метаданные сохранятся в Vercel KV
2. API endpoint `/api/jetton-metadata/{address}` будет возвращать метаданные из KV
3. Эксплореры смогут читать метаданные через этот endpoint

## Что если не настроить KV?

Если KV не настроен, код будет работать в режиме fallback:
- Метаданные будут читаться напрямую из контракта (если там есть data URI)
- Но сохранение через POST не будет работать

## Альтернативы:

Если не хотите использовать Vercel KV, можно использовать:
- **PostgreSQL** (через Vercel Postgres)
- **MongoDB** (через MongoDB Atlas)
- **Upstash Redis** (альтернатива Vercel KV)

Но Vercel KV - самый простой вариант для проектов на Vercel.




